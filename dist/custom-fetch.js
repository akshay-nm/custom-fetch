!function(e,t){"object"==typeof exports&&"undefined"!=typeof module?module.exports=t():"function"==typeof define&&define.amd?define(t):(e="undefined"!=typeof globalThis?globalThis:e||self)["custom-fetch"]=t()}(this,function(){"use strict";function g(e,t){if(null==e)return{};var r,o=function(e,t){if(null==e)return{};for(var r,o={},n=Object.keys(e),i=0;i<n.length;i++)r=n[i],0<=t.indexOf(r)||(o[r]=e[r]);return o}(e,t);if(Object.getOwnPropertySymbols)for(var n=Object.getOwnPropertySymbols(e),i=0;i<n.length;i++)r=n[i],0<=t.indexOf(r)||Object.prototype.propertyIsEnumerable.call(e,r)&&(o[r]=e[r]);return o}return function(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{};try{var t=e.method,r=e.headers,o=e.body,n=e.mode,i=e.credentials,l=e.cache,u=e.redirect,c=e.referrer,d=e.integrity,s=g(e,["method","headers","body","mode","credentials","cache","redirect","referrer","integrity"]),a=s.url,f=s.timeoutDuration,m=g(s,["url","timeoutDuration"]);0<Object.keys(m).length&&console.log("Custom fetch: Ignoring unsupported options:",m);var h={method:t,headers:r,body:o,mode:n,credentials:i,cache:l,redirect:u,referrer:c,integrity:d},b={};return b.controller=new window.AbortController,h.signal=b.controller.signal,b.request=new window.Request(a,h),b.timeout=null,b.abort=function(){return new Promise(function(e){b.timeout&&clearTimeout(b.timeout),b.controller.signal.aborted||b.controller.abort(),e(b.controller.signal.aborted)})},b.send=function(){return b.timeout=setTimeout(function(){b.controller.abort()},f),window.fetch(b.request)},b}catch(e){throw console.log("Error:",e),Error("Could not initialise the fetch: ",e.message)}}});
//# sourceMappingURL=custom-fetch.js.map
